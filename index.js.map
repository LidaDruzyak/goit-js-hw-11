{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\nexport const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '46311357-e3a4e4c71d54a60b91a510c1d';\n\nexport function fetchImages(query) {\nconst options = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n});\nreturn fetch(`${BASE_URL}?${options.toString()}`)\n.then(response => {\n    if(!response.ok) {\n       throw new Error(response.status); \n    }\n    return response.json();\n});\n}","'use strict';\n\nexport function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n    const markup = images.hits.map((image) => {\n        return `<li class=\"gallery-query\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img class=\"gallery-image\"\n    src=\"${image.webformatURL}\"\n    data-source=\"${image.largeImageURL}\"\n    alt=\"${image.tags}\"\n    width=\"360\"  onclick=\"return false\">\n    <ul class=\"gallery-descr\">\n                    <li class=\"gallery-item\">\n                        <p class=\"gallery-item-descr\">Likes</p>\n                        <p class=\"gallery-value\">${image.likes}</p>\n                    </li>\n                    <li class=\"gallery-item\">\n                        <p class=\"gallery-item-descr\">Views</p>\n                        <p class=\"gallery-value\">${image.views}</p>\n                    </li>\n                    <li class=\"gallery-item\">\n                        <p class=\"gallery-item-descr\">Comments</p>\n                        <p class=\"gallery-value\">${image.comments}</p>\n                    </li>\n                    <li class=\"gallery-item\">\n                        <p class=\"gallery-item-descr\">Downloads</p>\n                        <p class=\"gallery-value\">${image.downloads}</p>\n                    </li>\n                </ul>\n            </a>\n       </li>`;\n    }).join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n};\n\n\n                \n          \n","'use strict';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderImages } from \"./js/render-functions\";\nimport simpleLightbox from \"simplelightbox\";\n\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nlet lightbox = null;\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const inputValue = form.elements.query.value.trim();\n\n    if(inputValue === '') {\n        iziToast.error({\n            title: '',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight'\n        });\n        return;\n    };\n    gallery.innerHTML = '';\n    showLoader();\n\n    fetchImages(inputValue)\n    .then(images => {\n        if(images.hits.length === 0) {\n            iziToast.error({\n                title: '',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n            return;\n        } else {\n            renderImages(images);\n        }\n        if(!lightbox) {\n            lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionPosition: 'bottom',\n                captionDelay: 200,  \n            });\n        } else {\n            lightbox.refresh();\n        }\n    })\n    .catch(error => {\n        console.log(error);\n    })\n    .finally(() => {\n        hideLoader();\n        form.reset();\n    });\n    \n});\n\n\n function showLoader() {\n        const loader = document.querySelector('.loader');\n        loader.classList.remove('visually-hidden');\n    };\n    \n function hideLoader() {\n        const loader = document.querySelector('.loader');\n        loader.classList.add('visually-hidden');\n    };"],"names":["BASE_URL","API_KEY","fetchImages","query","options","response","renderImages","images","gallery","markup","image","form","lightbox","event","inputValue","iziToast","showLoader","SimpleLightbox","error","hideLoader"],"mappings":"6vBACO,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAYC,EAAO,CACnC,MAAMC,EAAU,IAAI,gBAAgB,CAChC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,EAAQ,SAAU,CAAA,EAAE,EAC/C,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAElC,OAAOA,EAAS,MACpB,CAAC,CACD,CCjBO,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,KAAK,IAAKG,GACrB;AAAA,oCACqBA,EAAM,aAAa;AAAA;AAAA,WAE5CA,EAAM,YAAY;AAAA,mBACVA,EAAM,aAAa;AAAA,WAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mDAK8BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mDAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,mDAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,aAK7D,EAAE,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,CAClD,CCxBA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCH,EAAU,SAAS,cAAc,UAAU,EACjD,IAAII,EAAW,KAEfD,EAAK,iBAAiB,SAAWE,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAaH,EAAK,SAAS,MAAM,MAAM,OAE7C,GAAGG,IAAe,GAAI,CAClBC,EAAS,MAAM,CACX,MAAO,GACP,QAAS,2EACT,SAAU,UACtB,CAAS,EACD,MACR,CACIP,EAAQ,UAAY,GACpBQ,IAEAd,EAAYY,CAAU,EACrB,KAAKP,GAAU,CACZ,GAAGA,EAAO,KAAK,SAAW,EAAG,CACzBQ,EAAS,MAAM,CACX,MAAO,GACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EACD,MACZ,MACYT,EAAaC,CAAM,EAEnBK,EAOAA,EAAS,QAAO,EANhBA,EAAW,IAAIK,EAAe,aAAc,CACxC,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC9B,CAAa,CAIb,CAAK,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACXC,IACAR,EAAK,MAAK,CAClB,CAAK,CAEL,CAAC,EAGA,SAASK,GAAa,CACA,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,iBAAiB,CAEjD,CACC,SAASG,GAAa,CACA,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,iBAAiB,CAC9C"}